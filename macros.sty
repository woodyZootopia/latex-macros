\ProvidesPackage{macros}[2020-01-08 - Shu Woody Nakamura]
\NeedsTeXFormat{LaTeX2e}

\RequirePackage[T1]{fontenc}                  % fontを8bitにする
\RequirePackage{bm}
\RequirePackage{lmodern}                      % LMフォントを使う
\RequirePackage{listings}                     % ソースコードを貼り付けられるようにする
\RequirePackage{textcomp}
\RequirePackage{nimbusserif}
\RequirePackage[utf8]{inputenc}
\RequirePackage[dvipdfmx]{graphicx}           % enables graphic
\RequirePackage{tikz}
\RequirePackage{pgfplots}
\usetikzlibrary{intersections, calc, patterns, arrows, decorations, angles}
\RequirePackage{circuitikz}
\RequirePackage{here}                         % enables use of 'here' of picture
\RequirePackage{amsmath,amssymb,amsfonts}     % enables math
\RequirePackage{mathtools}                    % coloneqqなど
\RequirePackage{amsthm,shadethm}              % 定理など
\RequirePackage{mathrsfs}                     % enables use of script（花文字）
\RequirePackage{url}                          % enables url
\urlstyle{same}
\RequirePackage{pxrubrica}                    % enables ruby of japanese
% \RequirePackage[deluxe,expert,uplatex]{otf}           % enables use of opentype font
% uplatexを使っていない人は，オプションからuplatexを削除してください
% \RequirePackage[noto]{pxchfon}                % optional: use Google's Noto Font
\RequirePackage{nimbusserif}                  % times for roman text
\RequirePackage{tcolorbox}
\tcbuselibrary{breakable}
\tcbuselibrary{skins}
\RequirePackage{varwidth}
\RequirePackage{pdfpages}
\RequirePackage{hhline}                       % hhline
\RequirePackage{wrapfig}
\RequirePackage{ascmac}
\RequirePackage{makeidx}
\RequirePackage[ampersand]{easylist}
\RequirePackage{import}
\RequirePackage{xifthen}
\RequirePackage{pdfpages}
\RequirePackage{transparent}
\RequirePackage{hologo} % logo

% listingsの設定
\lstset{
  basicstyle={\ttfamily},
  frame=single,
  columns=[l]{fullflexible},
  xrightmargin=3zw,
  xleftmargin=3zw,
  lineskip=-0.6ex
}

\RequirePackage[l2tabu,orthodox]{nag}         %古いパッケージや命令の利用を警告する

\RequirePackage[dvipdfmx,hidelinks]{hyperref} % hyperlinking. 環境を汚すので最後にする

% キャプションにコロンをつける（"図1: ほげ"）
% 一応unsupportedらしいがうまく動いているので気にしない
% \RequirePackage{caption}
% \captionsetup[figure]{labelsep=colon}
% \captionsetup[table]{labelsep=colon}

\DeclareOption{English}%
    {\renewcommand{\baselinestretch}{2}%double line spacing
    \settowidth{\parindent}{~~~~~}%five space indent
    \newshadetheorem{definition}{Def}%
    \newshadetheorem{theorem}{Thm}%
    \newshadetheorem{proposition}{Prop}%
    \newshadetheorem{corollary}{Corollary}%
    \newshadetheorem{lemma}{Lem}%
    \newshadetheorem{remark}{Rem}%
    \newshadetheorem{example}{Ex}%
    \newshadetheorem{problem}{Problem}%
    \newcommand*{\figref}[1]{Figure~\ref{#1}}%
    \newcommand*{\tabref}[1]{Table~\ref{#1}}%
    \newcommand*{\eqnref}[1]{\eqref{#1}}%
}

\DeclareOption{Japanese}%
    {\theoremstyle{definition}%
    \setlength{\shadeboxsep}{0pt}
    \newshadetheorem{definition}{定義}%
    \newshadetheorem{theorem}{定理}%
    \newshadetheorem{proposition}{命題}%
    \newshadetheorem{corollary}{系}%
    \newshadetheorem{lemma}{補題}%
    \newshadetheorem{remark}{注意}%
    \newshadetheorem{example}{例}%
    \newshadetheorem{problem}{問題}%
    \renewcommand{\proofname}{\textgt{証明}}% 証明につくProof.を変える

    \newcommand*{\figref}[1]{図~\ref{#1}}
    \newcommand*{\tabref}[1]{表~\ref{#1}}
    \newcommand*{\eqnref}[1]{式~\eqref{#1}}
    }


\ProcessOptions\relax

\numberwithin{definition}{section}
\numberwithin{theorem}{section}
\numberwithin{proposition}{section}
\numberwithin{lemma}{section}
\numberwithin{remark}{section}
\numberwithin{example}{section}

% 参照した数式にのみ数式番号をつける
% \RequirePackage{mathtools}
% \mathtoolsset{showonlyrefs=true}

% \renewcommand{\baselinestretch}{2} % double line spacing

% 数式関係は分離している
\input{/home/woody/Documents/macros/macros-maths.sty}
